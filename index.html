<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shashwat | System Core</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Space+Grotesk:wght@300;500;700&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        // Mapped to CSS Variables for Terminal Switching
                        bgDark: 'var(--bg-primary)',
                        textMain: 'var(--text-primary)',
                        neonCyan: 'var(--accent-primary)',
                        neonBlue: 'var(--accent-secondary)',
                    },
                    animation: {
                        'infinite-scroll': 'infinite-scroll 25s linear infinite',
                    },
                    keyframes: {
                        'infinite-scroll': {
                            from: { transform: 'translateX(0)' },
                            to: { transform: 'translateX(-100%)' },
                        }
                    }
                }
            }
        }
    </script>

    <script>
            (function () {
                // Check for saved custom theme or default to system
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            })();
    </script>

    <style>
        /* --- DYNAMIC THEME VARIABLES --- */
        :root {
            /* Default Theme (Original Dark) */
            --bg-primary: #050505;
            --text-primary: #e5e5e5;
            --accent-primary: #66fcf1;
            /* Cyan */
            --accent-secondary: #3b82f6;
            /* Blue */
            --grid-color: rgba(102, 252, 241, 0.15);
        }

        /* Smooth Transition for Theme Switching */
        body,
        div,
        section,
        nav,
        footer,
        span,
        h1,
        h2,
        h3,
        p,
        i,
        button,
        input {
            transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease;
        }

        /* BASE SETTINGS */
        html {
            scroll-behavior: smooth;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        ::-webkit-scrollbar {
            display: none;
        }

        body {
            overflow-x: hidden;
        }

        /* 1. SCROLL PROGRESS */
        #scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--accent-primary);
            z-index: 100;
            width: 0%;
            transition: width 0.1s;
        }

        /* 2. CYBER GRID */
        html.dark {
            /* Grid color is now dynamic */
        }

        .cyber-grid {
            position: fixed;
            inset: 0;
            z-index: 0;
            background-image: none;
            background-size: 40px 40px;
            mask-image: none;
            -webkit-mask-image: none;
            pointer-events: none;
            transition: background-image 0.5s ease, mask-image 0.5s ease, -webkit-mask-image 0.5s ease;
        }

        body.is-hovering .cyber-grid {
            background-image:
                linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            mask-image: radial-gradient(circle at var(--x, 50%) var(--y, 50%), black 0%, transparent 20%);
            -webkit-mask-image: radial-gradient(circle at var(--x, 50%) var(--y, 50%), black 0%, transparent 20%);
        }

        /* --- SKILL BARS --- */
        .skill-bar-container {
            height: 6px;
            background: #222;
            border-radius: 3px;
            margin-top: 4px;
        }

        .skill-progress-bar {
            height: 100%;
            border-radius: 3px;
            width: 0;
            transition: width 1.5s cubic-bezier(0.17, 0.84, 0.44, 1);
        }

        /* --- ACTIVITY LOG --- */
        .log-entry {
            border-left: 2px solid #333;
            padding-left: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .log-entry:hover {
            border-left-color: var(--accent-primary);
        }

        .log-time {
            color: #9ca3af;
        }

        /* 3. RAINBOW TEXT */
        .rainbow-text {
            background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
            background-size: 400%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: glowing 20s linear infinite;
        }

        @keyframes glowing {
            0% {
                background-position: 0 0;
            }

            50% {
                background-position: 400% 0;
            }

            100% {
                background-position: 0 0;
            }
        }

        /* 4. GLASS NAV */
        .glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark .glass {
            background: rgba(5, 5, 5, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* 5. TERMINAL CARD */
        .terminal-card {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-family: 'Fira Code', monospace;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .dark .terminal-card {
            background: #0a0a0a;
            border: 1px solid #333;
            box-shadow: none;
        }

        .terminal-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-secondary);
            box-shadow: 0 10px 40px -10px rgba(59, 130, 246, 0.4);
        }

        .dark .terminal-card:hover {
            border-color: var(--accent-primary);
            box-shadow: 0 0 30px var(--grid-color);
        }

        .terminal-header {
            background: #f3f4f6;
            padding: 8px 12px;
            border-radius: 8px 8px 0 0;
            display: flex;
            gap: 6px;
            border-bottom: 1px solid #e5e7eb;
        }

        .dark .terminal-header {
            background: #171717;
            border-bottom: 1px solid #333;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .red {
            background: #ff5f56;
        }

        .yellow {
            background: #ffbd2e;
        }

        .green {
            background: #27c93f;
        }

        .terminal-body {
            padding: 16px;
            font-size: 0.85rem;
            line-height: 1.6;
            flex-grow: 1;
            color: #1f2937;
        }

        .dark .terminal-body {
            color: var(--text-primary);
        }

        .cmd {
            color: #27c93f;
            margin-right: 8px;
            font-weight: bold;
        }

        /* 6. EDITABLE CODE */
        .editable-code {
            border-bottom: 1px dashed rgba(102, 252, 241, 0.5);
            background: rgba(255, 255, 255, 0.05);
            padding: 0 4px;
            border-radius: 4px;
            outline: none;
            color: #a5f3fc;
        }

        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: var(--accent-primary);
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }

        /* 7. OVERLAY TERMINAL STYLES */
        #terminal-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
            cursor: pointer;
            padding: 0;
            background: none;
            border: none;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        #terminal-toggle:hover {
            transform: scale(1.05);
        }

        #overlay-terminal {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 500px;
            height: 350px;
            min-width: 300px;
            min-height: 200px;
            max-width: 90vw;
            max-height: 90vh;
            z-index: 99;
            background: #0a0a0a;
            border: 1px solid #333;
            border-radius: 6px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 15px var(--grid-color);
            display: none;
            flex-direction: column;
            font-family: 'Fira Code', monospace;
            overflow: hidden;
            resize: both;
        }

        .term-bar {
            padding: 8px 12px;
            background: rgba(102, 252, 241, 0.1);
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
        }

        .term-output-area {
            flex-grow: 1;
            padding: 10px 12px;
            overflow-y: auto;
            color: #e5e5e5;
            font-size: 0.8rem;
            line-height: 1.4;
        }

        .term-output-area::-webkit-scrollbar {
            display: block;
            width: 6px;
        }

        .term-output-area::-webkit-scrollbar-thumb {
            background: rgba(102, 252, 241, 0.3);
            border-radius: 3px;
        }

        .term-output-area {
            scrollbar-width: thin;
            scrollbar-color: rgba(102, 252, 241, 0.3) transparent;
        }

        .term-input-line {
            display: flex;
            padding: 5px 12px 8px;
            border-top: 1px solid #333;
            align-items: center;
        }

        .term-prompt {
            color: #00ff00;
            white-space: nowrap;
            margin-right: 5px;
        }

        .term-input {
            background: transparent;
            border: none;
            color: var(--accent-primary);
            outline: none;
            width: 100%;
            font-size: 0.8rem;
        }

        /* --- TIMELINE ANIMATIONS --- */
        .timeline-item {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .timeline-item.in-view {
            opacity: 1;
            transform: translateY(0);
        }

        /* Connector Lines */
        .circuit-line {
            position: absolute;
            top: 50%;
            height: 2px;
            width: 0;
            /* Animates to full width */
            background: var(--accent-primary);
            transition: width 0.8s ease 0.2s;
        }

        .timeline-item.in-view .circuit-line {
            width: 2.5rem;
            /* 40px */
        }

        /* Directional fixes */
        .left-card .circuit-line {
            right: -2.5rem;
        }

        .right-card .circuit-line {
            left: -2.5rem;
        }

        /* Mobile adjustments handled via Tailwind classes */
        .terminal-card {
            transition: transform 0.1s ease-out;
            /* Fast transition for mousemove */
            will-change: transform;
        }

        .cyber-grid {
            /* Existing styles... */
            transition: transform 0.1s ease-out;
            /* Add this line */
            will-change: transform;
            /* Optimize performance */
            width: 110vw;
            /* Make it slightly bigger so edges don't show when moving */
            height: 110vh;
            left: -5vw;
            /* Center it */
            top: -5vh;
        }
    </style>
</head>

<body
    class="bg-gray-50 text-gray-900 dark:bg-bgDark dark:text-textMain transition-colors duration-300 relative flex flex-col min-h-screen">
    <div id="sleep-mode"
        class="fixed inset-0 bg-black z-[9990] hidden flex-col items-center justify-center transition-opacity duration-700 opacity-0 pointer-events-none">
        <div class="text-neonBlue font-mono text-2xl animate-pulse tracking-widest">
            &gt; SYSTEM_IDLE
        </div>
        <div class="text-gray-600 font-mono text-sm mt-2">
            Awaiting Input...
        </div>
    </div>
    <div id="scroll-progress"></div>

    <div class="cyber-grid"></div>

    <nav class="fixed w-full z-50 top-0 start-0 glass transition-all duration-300">
        <div class="max-w-7xl mx-auto flex flex-wrap items-center justify-between p-4">
            <a href="index.html" class="flex items-center gap-2 group">
                <div
                    class="w-8 h-8 bg-neonBlue dark:bg-neonCyan rounded flex items-center justify-center text-white dark:text-black font-bold font-mono group-hover:rotate-12 transition-transform">
                    &lt;/&gt;
                </div>
                <span class="self-center text-xl font-bold tracking-wide dark:text-textMain">CodeBaaz</span>
            </a>

            <div class="flex items-center gap-6">
                <div class="hidden md:flex gap-6 font-mono text-sm">
                    <a href="index.html"
                        class="hover:text-neonBlue dark:hover:text-neonCyan transition-colors">~/Home</a>
                    <a href="about.html"
                        class="hover:text-neonBlue dark:hover:text-neonCyan transition-colors">~/About</a>
                    <a href="projects.html"
                        class="hover:text-neonBlue dark:hover:text-neonCyan transition-colors">~/Work</a>
                    <a href="contact.html"
                        class="hover:text-neonBlue dark:hover:text-neonCyan transition-colors">~/Contact</a>
                </div>

                <button id="theme-toggle"
                    class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-all">
                    <i class="ri-sun-line dark:hidden text-orange-500"></i>
                    <i class="ri-moon-line hidden dark:block text-neonCyan"></i>
                </button>
            </div>
        </div>
    </nav>

    <section id="hero-section" class="relative z-10 flex-grow flex items-center justify-center pt-32 pb-20">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

            <div class="space-y-6 order-2 lg:order-1">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 dark:bg-neonCyan/10 text-neonBlue dark:text-neonCyan text-sm font-mono border border-blue-200 dark:border-neonCyan/20">
                    <span class="relative flex h-2 w-2">
                        <span
                            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-neonBlue dark:bg-neonCyan opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-neonBlue dark:bg-neonCyan"></span>
                    </span>
                    System Online v1.0
                </div>

                <h1 class="text-5xl md:text-7xl font-bold leading-tight dark:text-textMain">
                    Hi, I'm <br>
                    <span id="live-name-display" class="rainbow-text transition-colors duration-300">
                        Shashwat
                    </span>
                </h1>

                <h2 class="text-2xl md:text-3xl font-mono text-gray-500 dark:text-gray-400 h-10">
                    I build <span id="typewriter" class="typing-cursor text-neonBlue dark:text-neonCyan"></span>
                </h2>

                <p class="text-lg text-gray-600 dark:text-gray-300 max-w-lg leading-relaxed pt-2">
                    A Full Stack Developer crafting interactive digital experiences.
                </p>

                <div class="pt-4 flex gap-4">
                    <a href="projects.html"
                        class="px-6 py-2 bg-neonBlue dark:bg-neonCyan text-white dark:text-black font-bold rounded hover:shadow-lg transition-all transform hover:-translate-y-1">
                        View Projects
                    </a>
                    <a href="contact.html"
                        class="px-6 py-2 border border-gray-400 dark:border-gray-600 rounded-lg hover:border-neonBlue dark:hover:border-neonCyan hover:text-neonBlue dark:hover:text-neonCyan transition-all">
                        Contact Me
                    </a>
                </div>
            </div>

            <div class="hidden lg:block relative perspective-container order-1 lg:order-2" id="card-container">
                <div id="tilt-card"
                    class="relative bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-gray-800 p-8 rounded-2xl shadow-2xl transform-gpu transition-transform duration-100 ease-out">
                    <div
                        class="flex justify-between items-center mb-6 border-b border-gray-100 dark:border-gray-800 pb-4">
                        <div class="flex space-x-2">
                            <div class="w-3 h-3 rounded-full bg-red-500"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        </div>
                        <span class="font-mono text-xs text-gray-400">user_profile.js</span>
                    </div>

                    <div class="font-mono text-sm leading-8 select-none">
                        <div class="flex"><span class="w-8 text-gray-500 text-right mr-4">1</span><span
                                class="text-purple-500">const</span> <span
                                class="text-yellow-600 dark:text-yellow-400 ml-2">Dev</span> = {</div>
                        <div class="flex"><span class="w-8 text-gray-500 text-right mr-4">2</span><span
                                class="ml-4">name: '<span contenteditable="true" spellcheck="false" id="input-name"
                                    class="editable-code">Your Name</span>',</span></div>
                        <div class="flex"><span class="w-8 text-gray-500 text-right mr-4">3</span><span
                                class="ml-4">roles: [</span></div>
                        <div class="flex"><span class="w-8 text-gray-500 text-right mr-4">4</span><span
                                class="ml-8 text-green-600 dark:text-green-400" contenteditable="true"
                                spellcheck="false" id="input-roles" class="editable-code">'Websites', 'Apps',
                                'Systems'</span></div>
                        <div class="flex"><span class="w-8 text-gray-500 text-right mr-4">5</span><span
                                class="ml-4">],</span></div>
                        <div class="flex"><span class="w-8 text-gray-500 text-right mr-4">6</span>};</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="overview-section" class="py-10 container mx-auto px-6 relative z-10 pb-24">
        <h2 class="text-center font-mono text-xl mb-10 text-gray-500 dark:text-gray-400">&lt;System_Overview /&gt;</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto">

            <div class="terminal-card group">
                <div class="terminal-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                </div>
                <div class="terminal-body">
                    <div class="mb-2"><span class="cmd">user@system:~$</span> neofetch</div>
                    <div class="flex gap-4 mt-4">
                        <div class="text-purple-500 dark:text-purple-400 hidden sm:block font-bold">
                            /\_/\<br>(o.o)<br> > ^ < </div>
                                <div>
                                    <p><span class="text-neonBlue dark:text-neonCyan font-semibold">Host</span>: Vercel
                                        Cloud</p>
                                    <p><span class="text-neonBlue dark:text-neonCyan font-semibold">Loc</span>:
                                        127.0.0.1</p>
                                    <p><span class="text-neonBlue dark:text-neonCyan font-semibold">Shell</span>: ZSH
                                        v5.8</p>
                                    <p class="text-green-600 dark:text-green-400 mt-2 font-bold">● Online</p>
                                </div>
                        </div>
                    </div>
                </div>

                <div class="terminal-card group">
                    <div class="terminal-header">
                        <div class="dot red"></div>
                        <div class="dot yellow"></div>
                        <div class="dot green"></div>
                    </div>
                    <div class="terminal-body">
                        <div class="mb-2"><span class="cmd">user@system:~$</span> ls skills/</div>
                        <div class="grid grid-cols-2 gap-2 mt-4 text-sm font-semibold">
                            <span class="text-green-600 dark:text-green-400"><i class="ri-code-line"></i>
                                JavaScript</span>
                            <span class="text-neonBlue dark:text-neonBlue"><i class="ri-reactjs-line"></i> React</span>
                            <span class="text-yellow-600 dark:text-yellow-400"><i class="ri-nodejs-line"></i>
                                Node.js</span>
                            <span class="text-purple-600 dark:text-purple-400"><i class="ri-database-2-line"></i>
                                SQL</span>
                            <span class="text-orange-600 dark:text-orange-400"><i class="ri-amazon-line"></i> AWS</span>
                            <span class="text-cyan-600 dark:text-cyan-400"><i class="ri-tailwind-css-fill"></i>
                                Tailwind</span>
                        </div>
                    </div>
                </div>

                <div class="terminal-card group">
                    <div class="terminal-header">
                        <div class="dot red"></div>
                        <div class="dot yellow"></div>
                        <div class="dot green"></div>
                    </div>
                    <div class="terminal-body">
                        <div class="mb-2"><span class="cmd">user@system:~$</span> check_integrity</div>
                        <div class="mt-4">
                            <p>Status: <span class="text-purple-600 dark:text-purple-400 font-bold">OK</span></p>
                            <p class="text-gray-500 mt-2">Core Services:</p>
                            <p>API Endpoint: operational</p>
                            <p>Database: operational</p>
                            <p class="text-green-600 dark:text-green-400 mt-2 font-bold">✔ Integrity check complete
                            </p>
                        </div>
                    </div>
                </div>

                <div class="terminal-card group">
                    <div class="terminal-header">
                        <div class="dot red"></div>
                        <div class="dot yellow"></div>
                        <div class="dot green"></div>
                    </div>
                    <div class="terminal-body">
                        <div class="mb-2"><span class="cmd">user@system:~$</span> ./contact.sh</div>
                        <div class="flex flex-col gap-3 mt-4 font-medium">
                            <a href="#" class="hover:text-neonBlue transition-colors flex items-center gap-2"><i
                                    class="ri-linkedin-box-fill"></i> LinkedIn</a>
                            <a href="#" class="hover:text-yellow-500 transition-colors flex items-center gap-2"><i
                                    class="ri-mail-fill"></i> Email</a>
                            <a href="contact.html"
                                class="hover:text-cyan-500 transition-colors flex items-center gap-2"><i
                                    class="ri-file-text-line"></i> Resume</a>
                        </div>
                    </div>
                </div>

            </div>
    </section>

    <section id="tech-matrix-section" class="py-10 container mx-auto px-6 relative z-10 pb-24">
        <h2 class="text-center font-mono text-xl mb-12 text-gray-500 dark:text-gray-400">&lt;Tech_Stack_Matrix /&gt;
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-6xl mx-auto">
            <div>
                <h3 class="font-mono text-2xl font-bold mb-6 text-neonBlue dark:text-neonCyan flex items-center gap-3">
                    <i class="ri-code-s-slash-line"></i> Frontend Engineering
                </h3>
                <div class="space-y-6">
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">HTML5 / CSS3</span>
                            <span class="font-mono text-sm text-gray-400">99%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-orange-600 dark:bg-orange-500" data-progress="99"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">React / Next.js</span>
                            <span class="font-mono text-sm text-gray-400">95%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-neonBlue dark:bg-neonCyan" data-progress="95"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">JavaScript (ES6+)</span>
                            <span class="font-mono text-sm text-gray-400">90%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-yellow-500" data-progress="90"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">Tailwind CSS / SCSS</span>
                            <span class="font-mono text-sm text-gray-400">98%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-cyan-500" data-progress="98"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="font-mono text-2xl font-bold mb-6 text-purple-500 flex items-center gap-3">
                    <i class="ri-server-line"></i> Backend & Data
                </h3>
                <div class="space-y-6">
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">C/C++ & DSA</span>
                            <span class="font-mono text-sm text-gray-400">85%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-pink-600" data-progress="85"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">Node.js / Express</span>
                            <span class="font-mono text-sm text-gray-400">85%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-green-500" data-progress="85"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">SQL / PostgreSQL</span>
                            <span class="font-mono text-sm text-gray-400">80%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-indigo-500" data-progress="80"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">Python / Django</span>
                            <span class="font-mono text-sm text-gray-400">75%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-yellow-700" data-progress="75"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="md:col-span-2">
                <h3 class="font-mono text-2xl font-bold mb-6 text-orange-500 flex items-center gap-3">
                    <i class="ri-terminal-box-line"></i> Infrastructure & DevOps
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">AWS</span>
                            <span class="font-mono text-sm text-gray-400">70%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-orange-500" data-progress="70"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">Docker / Containers</span>
                            <span class="font-mono text-sm text-gray-400">85%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-blue-700" data-progress="85"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between items-end mb-1">
                            <span class="font-mono text-lg">Git / CI/CD</span>
                            <span class="font-mono text-sm text-gray-400">95%</span>
                        </div>
                        <div class="skill-bar-container">
                            <div class="skill-progress-bar bg-red-600" data-progress="95"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="setup-section" class="py-10 container mx-auto px-6 relative z-10">
        <h2 class="text-center font-mono text-xl mb-12 text-gray-500 dark:text-gray-400">&lt;System_Resources /&gt;</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto">

            <div class="terminal-card group p-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="ri-hard-drive-2-line text-6xl text-neonBlue dark:text-neonCyan"></i>
                </div>
                <h3 class="font-mono text-lg font-bold text-neonBlue dark:text-neonCyan mb-4 flex items-center gap-2">
                    <i class="ri-computer-line"></i> PRIMARY_NODE
                </h3>
                <ul class="space-y-2 font-mono text-sm text-gray-600 dark:text-gray-400">
                    <li class="flex justify-between">
                        <span>OS:</span>
                        <span class="text-green-600 dark:text-green-400">Kali Linux / Win11</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Memory:</span>
                        <span class="text-white">16GB DDR4</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Storage:</span>
                        <span class="text-white">1TB NVMe SSD</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Uptime:</span>
                        <span class="text-yellow-500">99.9%</span>
                    </li>
                </ul>
            </div>

            <div class="terminal-card group p-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="ri-code-s-slash-line text-6xl text-purple-500"></i>
                </div>
                <h3 class="font-mono text-lg font-bold text-purple-500 mb-4 flex items-center gap-2">
                    <i class="ri-terminal-window-line"></i> DEV_ENV
                </h3>
                <ul class="space-y-2 font-mono text-sm text-gray-600 dark:text-gray-400">
                    <li class="flex justify-between">
                        <span>Editor:</span>
                        <span class="text-white">VS Code</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Theme:</span>
                        <span class="text-white">SynthWave '84</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Shell:</span>
                        <span class="text-green-600 dark:text-green-400">ZSH + OhMyZsh</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Browser:</span>
                        <span class="text-orange-500">Brave</span>
                    </li>
                </ul>
            </div>

            <div class="terminal-card group p-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="ri-database-2-line text-6xl text-yellow-500"></i>
                </div>
                <h3
                    class="font-mono text-lg font-bold text-yellow-500 dark:text-yellow-400 mb-4 flex items-center gap-2">
                    <i class="ri-tools-line"></i> TOOLKIT
                </h3>
                <ul class="space-y-2 font-mono text-sm text-gray-600 dark:text-gray-400">
                    <li class="flex justify-between">
                        <span>DB GUI:</span>
                        <span class="text-white">Oracle APEX</span>
                    </li>
                    <li class="flex justify-between">
                        <span>API Test:</span>
                        <span class="text-white">Postman</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Design:</span>
                        <span class="text-pink-500">Figma</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Version:</span>
                        <span class="text-red-500">Git / GitHub</span>
                    </li>
                </ul>
            </div>

            <div class="terminal-card group p-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="ri-headphone-line text-6xl text-pink-500"></i>
                </div>
                <h3 class="font-mono text-lg font-bold text-pink-500 mb-4 flex items-center gap-2">
                    <i class="ri-pulse-line"></i> FUEL_SYSTEM
                </h3>
                <ul class="space-y-2 font-mono text-sm text-gray-600 dark:text-gray-400">
                    <li class="flex justify-between">
                        <span>Audio:</span>
                        <span class="text-white">Sony WH-1000XM4</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Music:</span>
                        <span class="text-green-500">Spotify Lo-Fi</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Liquid:</span>
                        <span class="text-orange-900 dark:text-orange-400">Black Coffee</span>
                    </li>
                    <li class="flex justify-between">
                        <span>Status:</span>
                        <span class="text-green-500 animate-pulse">FLOW_STATE</span>
                    </li>
                </ul>
            </div>

        </div>
    </section>
    <section id="activity-log-section" class="py-10 container mx-auto px-6 relative z-10 pb-24 max-w-4xl">
        <h2 class="text-center font-mono text-xl mb-12 text-gray-500 dark:text-gray-400">&lt;Recent_Activity_Log /&gt;
        </h2>

        <div class="space-y-4 font-mono">
            <div class="log-entry">
                <span class="log-time text-xs">2025-12-09 11:30</span>
                <p class="text-green-500">PULL /home/index.html -> [PASS] Code optimized for mobile viewport.</p>
            </div>
            <div class="log-entry">
                <span class="log-time text-xs">2025-12-08 19:45</span>
                <p>TASK /api/auth: Added WebAuthn support for login flow.</p>
            </div>
            <div class="log-entry">
                <span class="log-time text-xs">2025-12-08 10:15</span>
                <p class="text-yellow-500">DB_UPDATE /skills: Changed 'SQL' proficiency from 75% to 80%.</p>
            </div>
            <div class="log-entry">
                <span class="log-time text-xs">2025-12-07 14:00</span>
                <p>TASK /projects/commune-x: Implemented WebSocket reconnection logic.</p>
            </div>
            <div class="log-entry">
                <span class="log-time text-xs">2025-12-06 23:10</span>
                <p class="text-green-500">PUSH /loading.html: Added new dynamic terminal boot sequence.</p>
            </div>
            <div class="log-entry">
                <span class="log-time text-xs">2025-12-05 08:00</span>
                <p>AUDIT /core: Security check completed. [VULNERABILITIES: 0]</p>
            </div>
        </div>
        <div class="text-center pt-8">
            <a href="about.html" class="font-mono text-sm text-neonBlue dark:text-neonCyan hover:underline">
                View Full Execution Log >
            </a>
        </div>
    </section>
    <section id="timeline-section" class="py-24 relative z-10 overflow-hidden">

        <div class="absolute inset-0 opacity-5 pointer-events-none"
            style="background-image: linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px); background-size: 30px 30px;">
        </div>

        <div class="max-w-6xl mx-auto px-6 relative">
            <h2 class="text-center font-mono text-2xl mb-20 text-gray-500 dark:text-gray-400 tracking-wider">
                &lt;Execution_History /&gt;
            </h2>

            <div
                class="absolute left-6 md:left-1/2 transform md:-translate-x-1/2 top-32 bottom-10 w-0.5 bg-gray-200 dark:bg-gray-800">
                <div class="absolute inset-0 bg-gradient-to-b from-purple-500 via-orange-500 to-green-500 opacity-0 md:opacity-100 transition-opacity duration-500"
                    id="progress-line"></div>

                <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center">
                    <i class="ri-arrow-up-double-line text-green-500/50 text-xl animate-bounce"></i>
                    <div class="w-2 h-2 bg-green-500/50 rounded-full mt-1"></div>
                </div>
            </div>

            <div
                class="timeline-item relative flex flex-col md:flex-row items-center justify-between mb-24 group right-card">
                <div class="md:w-5/12 order-1"></div>

                <div
                    class="absolute left-6 md:left-1/2 transform -translate-x-1/2 w-10 h-10 bg-[#0a0a0a] border-2 border-purple-500 rounded-full z-10 flex items-center justify-center shadow-[0_0_15px_purple] group-hover:scale-110 transition-transform duration-300 order-1">
                    <i class="ri-radar-line text-purple-500 animate-spin-slow"></i>
                </div>

                <div class="md:w-5/12 pl-16 md:pl-0 order-2">
                    <div class="circuit-line hidden md:block" style="background: #a855f7;"></div>
                    <div
                        class="terminal-card p-6 relative group-hover:-translate-y-1 transition-transform duration-300 border-l-4 border-l-purple-500 bg-opacity-90 dark:bg-opacity-40 backdrop-blur-sm">
                        <div class="absolute -left-2 top-1/2 w-2 h-2 bg-purple-500 rounded-full md:hidden"></div>

                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs font-mono text-purple-500 bg-purple-500/10 px-2 py-1 rounded">Nov 2025
                                - Present</span>
                            <div class="flex items-center gap-2">
                                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                <span class="text-xs font-mono text-green-500">[RUNNING]</span>
                            </div>
                        </div>
                        <h3
                            class="text-xl font-bold dark:text-white mb-2 font-mono group-hover:text-purple-400 transition-colors">
                            Project: Commune-X</h3>
                        <p
                            class="text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed border-l-2 border-gray-700 pl-3">
                            Architecting a secure, real-time communication protocol. Features personal VPN integration
                            and low-latency voice/video channels.
                        </p>
                        <div class="flex flex-wrap gap-2 text-xs font-mono">
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#WebRTC</span>
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#Socket.io</span>
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#VPN</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="timeline-item flex justify-center mb-24 relative z-10 md:pl-0 pl-12">
                <span
                    class="bg-[#0a0a0a] border border-gray-800 px-4 py-1 rounded-full text-xs font-mono text-gray-500 shadow-lg">
                    -- SYSTEM_CHECKPOINT: 2025 --
                </span>
            </div>

            <div
                class="timeline-item relative flex flex-col md:flex-row items-center justify-between mb-24 group left-card">
                <div class="md:w-5/12 pl-16 md:pl-0 order-2 md:order-1">
                    <div class="circuit-line hidden md:block" style="background: #f97316;"></div>
                    <div
                        class="terminal-card p-6 relative group-hover:-translate-y-1 transition-transform duration-300 border-r-4 md:border-r-orange-500 md:border-l-0 border-l-4 border-l-orange-500 md:text-right bg-opacity-90 dark:bg-opacity-40 backdrop-blur-sm">
                        <div class="absolute -left-2 top-1/2 w-2 h-2 bg-orange-500 rounded-full md:hidden"></div>

                        <div class="flex justify-between md:justify-end items-start mb-2 gap-4">
                            <span class="text-xs font-mono text-green-500 order-2 md:order-1">[DEPLOYED]</span>
                            <span
                                class="text-xs font-mono text-orange-500 bg-orange-500/10 px-2 py-1 rounded order-1 md:order-2">Oct
                                2025</span>
                        </div>
                        <h3
                            class="text-xl font-bold dark:text-white mb-2 font-mono group-hover:text-orange-400 transition-colors">
                            Dhanvaanijya Finance</h3>
                        <p
                            class="text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed md:border-r-2 md:border-l-0 border-l-2 border-gray-700 md:pr-3 pl-3 md:pl-0">
                            Developed a financial tracking dashboard focusing on high-volume data handling and custom
                            icon design.
                        </p>
                        <div class="flex flex-wrap gap-2 text-xs font-mono md:justify-end">
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#OracleAPEX</span>
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#SQL</span>
                        </div>
                    </div>
                </div>

                <div
                    class="absolute left-6 md:left-1/2 transform -translate-x-1/2 w-10 h-10 bg-[#0a0a0a] border-2 border-orange-500 rounded-full z-10 flex items-center justify-center shadow-[0_0_15px_orange] group-hover:scale-110 transition-transform duration-300 order-1">
                    <i class="ri-bank-card-line text-orange-500"></i>
                </div>

                <div class="md:w-5/12 order-3"></div>
            </div>

            <div
                class="timeline-item relative flex flex-col md:flex-row items-center justify-between mb-24 group right-card">
                <div class="md:w-5/12 order-1"></div>

                <div
                    class="absolute left-6 md:left-1/2 transform -translate-x-1/2 w-10 h-10 bg-[#0a0a0a] border-2 border-red-500 rounded-full z-10 flex items-center justify-center shadow-[0_0_15px_red] group-hover:scale-110 transition-transform duration-300 order-1">
                    <i class="ri-shield-keyhole-line text-red-500"></i>
                </div>

                <div class="md:w-5/12 pl-16 md:pl-0 order-2">
                    <div class="circuit-line hidden md:block" style="background: #ef4444;"></div>
                    <div
                        class="terminal-card p-6 relative group-hover:-translate-y-1 transition-transform duration-300 border-l-4 border-l-red-500 bg-opacity-90 dark:bg-opacity-40 backdrop-blur-sm">
                        <div class="absolute -left-2 top-1/2 w-2 h-2 bg-red-500 rounded-full md:hidden"></div>

                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs font-mono text-red-500 bg-red-500/10 px-2 py-1 rounded">Mid 2025</span>
                            <span class="text-xs font-mono text-yellow-500">[RESEARCH]</span>
                        </div>
                        <h3
                            class="text-xl font-bold dark:text-white mb-2 font-mono group-hover:text-red-400 transition-colors">
                            Security Operations</h3>
                        <p
                            class="text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed border-l-2 border-gray-700 pl-3">
                            Deep dive into Kali Linux environments, network troubleshooting, and understanding
                            vulnerabilities.
                        </p>
                        <div class="flex flex-wrap gap-2 text-xs font-mono">
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#Kali</span>
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#Bash</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="timeline-item flex justify-center mb-24 relative z-10 md:pl-0 pl-12">
                <span
                    class="bg-[#0a0a0a] border border-gray-800 px-4 py-1 rounded-full text-xs font-mono text-gray-500 shadow-lg">
                    -- SYSTEM_CHECKPOINT: 2024 --
                </span>
            </div>

            <div
                class="timeline-item relative flex flex-col md:flex-row items-center justify-between mb-24 group left-card">
                <div class="md:w-5/12 pl-16 md:pl-0 order-2 md:order-1">
                    <div class="circuit-line hidden md:block" style="background: #eab308;"></div>
                    <div
                        class="terminal-card p-6 relative group-hover:-translate-y-1 transition-transform duration-300 border-r-4 md:border-r-yellow-500 md:border-l-0 border-l-4 border-l-yellow-500 md:text-right bg-opacity-90 dark:bg-opacity-40 backdrop-blur-sm">
                        <div class="absolute -left-2 top-1/2 w-2 h-2 bg-yellow-500 rounded-full md:hidden"></div>

                        <div class="flex justify-between md:justify-end items-start mb-2 gap-4">
                            <span class="text-xs font-mono text-green-500 order-2 md:order-1">[COMPLETED]</span>
                            <span
                                class="text-xs font-mono text-yellow-500 bg-yellow-500/10 px-2 py-1 rounded order-1 md:order-2">Late
                                2024</span>
                        </div>
                        <h3
                            class="text-xl font-bold dark:text-white mb-2 font-mono group-hover:text-yellow-400 transition-colors">
                            EduLink ERP System</h3>
                        <p
                            class="text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed md:border-r-2 md:border-l-0 border-l-2 border-gray-700 md:pr-3 pl-3 md:pl-0">
                            Designed a low-cost Enterprise Resource Planning system for educational institutions to
                            manage student data.
                        </p>
                        <div class="flex flex-wrap gap-2 text-xs font-mono md:justify-end">
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#PHP</span>
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#MySQL</span>
                        </div>
                    </div>
                </div>

                <div
                    class="absolute left-6 md:left-1/2 transform -translate-x-1/2 w-10 h-10 bg-[#0a0a0a] border-2 border-yellow-500 rounded-full z-10 flex items-center justify-center shadow-[0_0_15px_yellow] group-hover:scale-110 transition-transform duration-300 order-1">
                    <i class="ri-building-2-line text-yellow-500"></i>
                </div>

                <div class="md:w-5/12 order-3"></div>
            </div>

            <div class="timeline-item relative flex flex-col md:flex-row items-center justify-between group right-card">
                <div class="md:w-5/12 order-1"></div>

                <div
                    class="absolute left-6 md:left-1/2 transform -translate-x-1/2 w-10 h-10 bg-[#0a0a0a] border-2 border-green-500 rounded-full z-10 flex items-center justify-center shadow-[0_0_15px_green] group-hover:scale-110 transition-transform duration-300 order-1">
                    <i class="ri-graduation-cap-fill text-green-500"></i>
                </div>

                <div class="md:w-5/12 pl-16 md:pl-0 order-2">
                    <div class="circuit-line hidden md:block" style="background: #22c55e;"></div>
                    <div
                        class="terminal-card p-6 relative group-hover:-translate-y-1 transition-transform duration-300 border-l-4 border-l-green-500 bg-opacity-90 dark:bg-opacity-40 backdrop-blur-sm">
                        <div class="absolute -left-2 top-1/2 w-2 h-2 bg-green-500 rounded-full md:hidden"></div>

                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs font-mono text-green-500 bg-green-500/10 px-2 py-1 rounded">2020 -
                                2023</span>
                            <span class="text-xs font-mono text-gray-500">[INIT]</span>
                        </div>
                        <h3
                            class="text-xl font-bold dark:text-white mb-2 font-mono group-hover:text-green-400 transition-colors">
                            System Initialization</h3>
                        <p
                            class="text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed border-l-2 border-gray-700 pl-3">
                            Started the journey with C++ and Python. Completed High School (Physics/CS) and entered the
                            matrix of web dev.
                        </p>
                        <div class="flex flex-wrap gap-2 text-xs font-mono">
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#C++</span>
                            <span
                                class="px-2 py-1 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded text-gray-500 dark:text-gray-400">#Python</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <footer id="main-footer" class="bg-black border-t border-gray-800 relative z-10">
        <div class="w-full py-8 overflow-hidden relative border-b border-gray-800">
            <div class="absolute inset-0 bg-gradient-to-r from-black via-transparent to-black z-10 pointer-events-none">
            </div>
            <div class="flex w-full overflow-hidden">
                <div class="flex animate-infinite-scroll gap-16 items-center px-4">
                    <i
                        class="ri-reactjs-line text-4xl text-gray-500 dark:text-gray-400 hover:text-blue-400 transition-colors"></i>
                    <i
                        class="ri-html5-fill text-4xl text-gray-500 dark:text-gray-400 hover:text-orange-500 transition-colors"></i>
                    <i
                        class="ri-css3-fill text-4xl text-gray-500 dark:text-gray-400 hover:text-blue-600 transition-colors"></i>
                    <i
                        class="ri-javascript-fill text-4xl text-gray-500 dark:text-gray-400 hover:text-yellow-400 transition-colors"></i>
                    <i
                        class="ri-nodejs-line text-4xl text-gray-500 dark:text-gray-400 hover:text-green-500 transition-colors"></i>
                    <i
                        class="ri-reactjs-line text-4xl text-gray-500 dark:text-gray-400 hover:text-blue-400 transition-colors"></i>
                    <i
                        class="ri-html5-fill text-4xl text-gray-500 dark:text-gray-400 hover:text-orange-500 transition-colors"></i>
                    <i
                        class="ri-css3-fill text-4xl text-gray-500 dark:text-gray-400 hover:text-blue-600 transition-colors"></i>
                    <i
                        class="ri-javascript-fill text-4xl text-gray-500 dark:text-gray-400 hover:text-yellow-400 transition-colors"></i>
                    <i
                        class="ri-nodejs-line text-4xl text-gray-500 dark:text-gray-400 hover:text-green-500 transition-colors"></i>
                </div>
            </div>
        </div>

        <div
            class="max-w-7xl mx-auto px-6 py-6 flex justify-between items-center text-xs font-mono text-gray-400 dark:text-gray-500">
            <div class="flex items-center gap-2"><span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                System Operational</div>
            <div id="clock">00:00:00 UTC</div>

            <div class="flex items-center gap-1" title="Network Round-Trip Time">
                <i class="ri-wifi-line text-gray-500"></i>
                <span>PING: <span id="net-ping" class="text-neonBlue">--</span>ms</span>
            </div>

            <div class="flex items-center gap-1" title="Rendering Performance">
                <i class="ri-dashboard-3-line text-gray-500"></i>
                <span>FPS: <span id="sys-fps" class="text-green-500">--</span></span>
            </div>

            <div class="flex items-center gap-1" title="JS Heap Size">
                <i class="ri-cpu-line text-gray-500"></i>
                <span>MEM: <span id="sys-mem" class="text-purple-500">--</span>MB</span>
            </div>
        </div>
    </footer>

    <button id="terminal-toggle" aria-label="Open Terminal">
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100">
            <rect width="100" height="100" rx="10" ry="10" fill="#000000" stroke="var(--accent-primary)"
                stroke-width="3" />
            <text x="50" y="50" dominant-baseline="middle" text-anchor="middle" font-family="Arial, sans-serif"
                font-size="35" fill="var(--accent-primary)" font-weight="bold">
                &lt;/&gt;
            </text>
            <circle cx="80" cy="80" r="10" fill="#27c93f" stroke="#000000" stroke-width="2" />
        </svg>
    </button>

    <div id="overlay-terminal" style="display: none;">
        <div class="term-bar" id="term-header">
            <span class="text-neonCyan font-bold text-sm">System Terminal — index.html</span>
            <span class="text-sm cursor-pointer"
                onclick="document.getElementById('overlay-terminal').style.display='none';"><i
                    class="ri-close-line text-white/50 hover:text-white"></i></span>
        </div>
        <div class="term-output-area" id="terminal-output">
            <div class="text-xs text-gray-400 pb-2 border-b border-gray-800 mb-2">
                Welcome to Shashwat's System Shell (SSH). Type 'help' for commands.
            </div>
        </div>
        <div class="term-input-line">
            <span class="term-prompt" id="current-prompt">Shash@port:~$</span>
            <input type="text" id="terminal-input" class="term-input" autocomplete="off" autofocus>
        </div>
    </div>
    <script>
        // --- Shared Terminal Logic (STARTS HERE) ---
        (function () {
            const terminalOutput = document.getElementById('terminal-output');
            const terminalInput = document.getElementById('terminal-input');
            const overlayTerminal = document.getElementById('overlay-terminal');
            const toggleButton = document.getElementById('terminal-toggle');
            const promptSpan = document.getElementById('current-prompt');

            const PROMPT = 'Shash@port:~$';
            // --- NEURAL VOICE MODULE ---
            function speak(text) {
                if ('speechSynthesis' in window) {
                    window.speechSynthesis.cancel(); // Stop any previous speech
                    const utterance = new SpeechSynthesisUtterance(text);

                    // Try to get a specific "robotic" voice
                    const voices = window.speechSynthesis.getVoices();
                    utterance.voice = voices.find(v => v.name.includes('Google US English')) || voices[0];

                    utterance.pitch = 0.8; // Lower pitch = more robotic
                    utterance.rate = 1.1;  // Slightly faster
                    utterance.volume = 0.5;

                    window.speechSynthesis.speak(utterance);
                }
            }

            // --- HISTORY LOGIC ---
            let commandHistory = [];
            let historyIndex = -1;

            // --- THEME DATABASE & LOGIC ---
            const themeData = {
                'default': {
                    '--bg-primary': '#050505',
                    '--text-primary': '#e5e5e5',
                    '--accent-primary': '#66fcf1', // Cyan
                    '--accent-secondary': '#3b82f6', // Blue
                    '--grid-color': 'rgba(102, 252, 241, 0.15)'
                },
                'matrix': {
                    '--bg-primary': '#000000',
                    '--text-primary': '#00dd00',
                    '--accent-primary': '#00ff41', // Bright Green
                    '--accent-secondary': '#008f11', // Darker Green
                    '--grid-color': 'rgba(0, 255, 65, 0.2)'
                },
                'cyberpunk': {
                    '--bg-primary': '#0f0014', // Deep Purple
                    '--text-primary': '#fcee0a', // Cyber Yellow
                    '--accent-primary': '#ff003c', // Cyber Red
                    '--accent-secondary': '#00f0ff', // Cyber Blue
                    '--grid-color': 'rgba(255, 0, 60, 0.2)'
                },
                'ocean': {
                    '--bg-primary': '#001e2b', // Deep Sea
                    '--text-primary': '#e0f7fa', // Light Cyan
                    '--accent-primary': '#00e5ff', // Bright Teal
                    '--accent-secondary': '#18ffff',
                    '--grid-color': 'rgba(0, 229, 255, 0.15)'
                },
                'sunset': {
                    '--bg-primary': '#2d1b2e',
                    '--text-primary': '#ffcc00',
                    '--accent-primary': '#ff5e62', // Orange/Red
                    '--accent-secondary': '#ff9966',
                    '--grid-color': 'rgba(255, 94, 98, 0.2)'
                },
                'dracula': {
                    '--bg-primary': '#282a36',
                    '--text-primary': '#f8f8f2',
                    '--accent-primary': '#ff79c6', // Pink
                    '--accent-secondary': '#bd93f9', // Purple
                    '--grid-color': 'rgba(189, 147, 249, 0.15)'
                },
                'coffee': {
                    '--bg-primary': '#2b211e',
                    '--text-primary': '#dcc9bc',
                    '--accent-primary': '#d4a373', // Caramel
                    '--accent-secondary': '#a98467', // Light Brown
                    '--grid-color': 'rgba(212, 163, 115, 0.15)'
                },
                'light': {
                    '--bg-primary': '#ffffff',
                    '--text-primary': '#111827',
                    '--accent-primary': '#2563eb', // Standard Blue
                    '--accent-secondary': '#4f46e5', // Indigo
                    '--grid-color': 'rgba(37, 99, 235, 0.1)'
                }
            };

            function applyTheme(themeName) {
                const theme = themeData[themeName];
                if (!theme) return false;

                const root = document.documentElement;

                // 1. Update CSS Variables
                for (const [property, value] of Object.entries(theme)) {
                    root.style.setProperty(property, value);
                }

                // 2. Handle Tailwind Dark Mode Class
                if (themeName === 'light') {
                    root.classList.remove('dark');
                    localStorage.theme = 'light';
                } else {
                    root.classList.add('dark');
                    localStorage.theme = 'dark';
                }

                // 3. Persist specific theme name
                localStorage.customTheme = themeName;
                return true;
            }

            // Restore theme on load
            if (localStorage.customTheme && themeData[localStorage.customTheme]) {
                applyTheme(localStorage.customTheme);
            }

            // --- Terminal Utility Functions ---

            function echoInput(command) {
                const outputLine = document.createElement('div');
                outputLine.innerHTML = `<span class="term-prompt">${PROMPT}</span> ${command}`;
                terminalOutput.appendChild(outputLine);
            }

            function print(message, colorClass = 'text-white') {
                const outputLine = document.createElement('div');
                outputLine.innerHTML = `<span class="${colorClass}">${message}</span>`;
                terminalOutput.appendChild(outputLine);
            }

            function scrollToBottom() {
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            }

            // --- Terminal Command Definitions ---

            const commands = {
                'whoami': {
                    desc: 'Displays author bio and primary role.',
                    exec: () => {
                        speak("Authenticating user... Identity verified: Shashwat Singh."); // <--- ADD THIS
                        print("Name: Shashwat Singh", 'text-neonCyan');
                        print("Role: Full Stack Developer / System Architect", 'text-neonCyan');
                        print("Motto: Building scalable systems, line by line.", 'text-gray-400');
                    }
                },
                'cam': {
                    desc: 'Activates the ASCII Reflection Protocol (Webcam).',
                    exec: () => {
                        print("[INIT] Accessing optical sensors...", "text-yellow-500");

                        const video = document.createElement('video');
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d', { willReadFrequently: true });

                        // ASCII Setup
                        const chars = "Ñ@#W$9876543210?!abc;:+=-,._                    ";
                        const termOutput = document.getElementById('terminal-output');
                        const asciiDiv = document.createElement('div');
                        asciiDiv.style.fontFamily = 'monospace';
                        asciiDiv.style.fontSize = '6px'; // Tiny font for high res
                        asciiDiv.style.lineHeight = '6px';
                        asciiDiv.style.whiteSpace = 'pre';
                        asciiDiv.style.overflow = 'hidden';
                        asciiDiv.className = 'text-neonBlue animate-pulse';
                        termOutput.appendChild(asciiDiv);

                        navigator.mediaDevices.getUserMedia({ video: { width: 100, height: 100 } })
                            .then(stream => {
                                video.srcObject = stream;
                                video.play();

                                const frame = () => {
                                    if (!video.srcObject) return; // Stop if stream cut

                                    canvas.width = 100;
                                    canvas.height = 60; // Aspect ratio adjustment
                                    ctx.drawImage(video, 0, 0, 100, 60);

                                    const imageData = ctx.getImageData(0, 0, 100, 60);
                                    const data = imageData.data;
                                    let asciiStr = "";

                                    for (let i = 0; i < data.length; i += 4) {
                                        const r = data[i];
                                        const g = data[i + 1];
                                        const b = data[i + 2];
                                        const avg = (r + g + b) / 3;
                                        const charIndex = Math.floor((avg / 255) * (chars.length - 1));

                                        asciiStr += chars[charIndex];
                                        if ((i / 4 + 1) % 100 === 0) asciiStr += "\n";
                                    }

                                    asciiDiv.innerText = asciiStr;
                                    requestAnimationFrame(frame);
                                };
                                frame();
                                print("[SUCCESS] Optical feed established.", "text-green-500");
                            })
                            .catch(e => print("[ERROR] Sensor access denied.", "text-red-500"));
                    }
                },
                'theme': {
                    desc: 'Change system UI colors. Usage: theme [name] | theme list',
                    exec: (args) => {
                        const subCmd = args[1];

                        if (subCmd === 'list') {
                            print("Available Themes:", 'text-neonCyan');
                            Object.keys(themeData).forEach(t => {
                                print(`  - ${t}`, 'text-gray-400');
                            });
                            return;
                        }

                        if (themeData[subCmd]) {
                            applyTheme(subCmd);
                            print(`System Theme set to: [${subCmd.toUpperCase()}]`, 'text-green-500');
                        } else {
                            print(`Error: Theme '${subCmd}' not found. Type 'theme list' for options.`, 'text-error');
                        }
                    }
                },
                'ls -l /': {
                    desc: 'Lists main system directories (navigation links).',
                    exec: () => {
                        print("drwxrwxr-x 4096 <span class='text-neonCyan'>home</span>", 'text-neonCyan');
                        print("drwxrwxr-x 4096 <span class='text-neonCyan'>about</span>", 'text-neonCyan');
                        print("drwxrwxr-x 4096 <span class='text-neonCyan'>work</span>", 'text-neonCyan');
                        print("drwxrwxr-x 4096 <span class='text-neonCyan'>contact</span>", 'text-neonCyan');
                    }
                },
                'neofetch': {
                    desc: 'Displays stylized system specifications (Host, Shell, Status).',
                    exec: () => {
                        print('<span style="color:#8B5CF6">/\\_/\\</span>', 'text-gray-400');
                        print('<span style="color:#8B5CF6">( o.o )</span> <span class="text-neonCyan font-semibold">Host</span>: Vercel Cloud', 'text-gray-400');
                        print('<span style="color:#8B5CF6"> > ^ < </span> <span class="text-neonCyan font-semibold">Loc</span>: 127.0.0.1', 'text-gray-400');
                        print('       <span class="text-neonCyan font-semibold">Shell</span>: ZSH v5.8', 'text-gray-400');
                        print('       <span class="text-green-500 font-bold">● Online</span>');
                    }
                },
                'date': {
                    desc: 'Displays the current local date and time.',
                    exec: () => {
                        print(new Date().toString(), 'text-neonCyan');
                    }
                },
                'clear': {
                    desc: 'Clears the terminal output screen.',
                    exec: () => {
                        terminalOutput.innerHTML = '';
                    }
                },
                'exit': {
                    desc: 'Closes the terminal overlay.',
                    exec: () => {
                        overlayTerminal.style.display = 'none';
                    }
                },
                'help': {
                    desc: 'Lists all available commands.',
                    exec: () => {
                        print("Available Commands:", 'text-neonCyan');
                        Object.keys(commands).forEach(cmd => {
                            print(`  ${cmd.padEnd(15, ' ')} -> ${commands[cmd].desc}`, 'text-gray-400');
                        });
                        print("Navigation: cd home | cd work | cd contact", 'text-info');
                    }
                },
                'ping': {
                    desc: 'Simulates a network latency check.',
                    exec: (args) => {
                        const host = args[1] || 'shashwat.dev';
                        print(`PING ${host} (${Math.random().toFixed(2)}): 64 bytes from ${host}: icmp_seq=1 time=${(Math.random() * 10).toFixed(2)} ms`, 'text-green-500');
                    }
                },
                'grep': {
                    desc: 'Searches the skills list for a keyword (e.g., grep react /skills).',
                    exec: (args) => {
                        const term = (args[1] || '').toLowerCase();
                        const skills = "React, Next.js, Tailwind, HTML5, CSS3, C/C++, Node.js, Python, Django, PostgreSQL, Mongo, Redis, Docker, AWS, Git";
                        const results = skills.split(', ').filter(s => s.toLowerCase().includes(term));

                        if (term && results.length > 0) {
                            print(`Found matching skills: ${results.join(', ')}`, 'text-neonCyan');
                        } else if (term) {
                            print(`No skills found matching '${term}'.`, 'text-error');
                        } else {
                            print("Usage: grep [keyword] /skills", 'text-gray-400');
                        }
                    }
                },
                'read -f /readme.txt': {
                    desc: 'Prints a philosophy/future plans statement.',
                    exec: () => {
                        print("##################################################", 'text-info');
                        print("// System Philosophy:", 'text-neonCyan');
                        print("// I believe software should be fast, reliable, and deeply intentional.", 'text-gray-400');
                        print("// Next Goal: Dive deep into WebAssembly and Rust for performance optimization.", 'text-gray-400');
                        print("##################################################", 'text-info');
                    }
                },
                'sudo reboot': {
                    desc: 'Initiates a simulated system reboot (redirects via confirmation).',
                    exec: () => {
                        print("[SUDO] WARNING: System will restart. Proceed? (y/n)", 'text-error');
                        terminalInput.setAttribute('data-confirm', 'reboot');
                    }
                },
                'reactor': {
                    desc: 'Links the Cyber-Grid to ambient audio (Music/Voice).',
                    exec: async () => {
                        try {
                            print("[INIT] Calibrating auditory sensors...", "text-yellow-500");
                            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                            const source = audioCtx.createMediaStreamSource(stream);
                            const analyser = audioCtx.createAnalyser();
                            analyser.fftSize = 256;
                            source.connect(analyser);

                            const bufferLength = analyser.frequencyBinCount;
                            const dataArray = new Uint8Array(bufferLength);
                            const grid = document.querySelector('.cyber-grid');

                            print("[SUCCESS] Reactor Online. Play some music.", "text-green-500");

                            function renderFrame() {
                                requestAnimationFrame(renderFrame);
                                analyser.getByteFrequencyData(dataArray);

                                // Calculate average volume (Bass/Low-Mids focus)
                                let sum = 0;
                                for (let i = 0; i < 50; i++) { sum += dataArray[i]; }
                                const average = sum / 50;

                                // Map volume to CSS properties
                                // Opacity pulses, Scale zooms in/out slightly
                                const opacity = 0.1 + (average / 255) * 0.5;
                                const scale = 1 + (average / 1000);

                                if (grid) {
                                    grid.style.opacity = opacity;
                                    grid.style.transform = `scale(${scale})`;
                                    // Optional: Change color based on intensity
                                    if (average > 100) grid.style.setProperty('--grid-color', 'rgba(255, 0, 60, 0.4)'); // Red on drop
                                    else grid.style.setProperty('--grid-color', 'rgba(102, 252, 241, 0.15)'); // Cyan default
                                }
                            }
                            renderFrame();
                        } catch (e) {
                            print("[ERROR] Audio access denied.", "text-red-500");
                        }
                    }
                },
                'man': {
                    desc: 'Displays the manual page for a command (e.g., man cd).',
                    exec: (args) => {
                        const command = args[1];
                        if (command === 'cd') {
                            print("NAME: cd - Change the active directory/section.", 'text-neonCyan');
                            print("SYNOPSIS: cd [home|about|work|contact]", 'text-gray-400');
                        } else if (commands[command]) {
                            print(`MANUAL: ${command} -> ${commands[command].desc}`, 'text-neonCyan');
                        } else {
                            print("Error: No manual entry for command.", 'text-error');
                        }
                    }
                },
                'rm -rf /': {
                    desc: 'WARNING: INITIATES SYSTEM PURGE.',
                    exec: () => {
                        print("WARNING: ROOT DELETION INITIATED...", "text-red-600 font-bold animate-pulse");
                        print("Are you sure? This cannot be undone.", "text-red-600");

                        setTimeout(() => {
                            const allElements = document.body.querySelectorAll('*');
                            const total = allElements.length;
                            let count = 0;

                            // Nuke sound
                            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

                            const interval = setInterval(() => {
                                if (count >= total) {
                                    clearInterval(interval);
                                    document.body.innerHTML = '<div style="height:100vh;background:black;display:flex;align-items:center;justify-content:center;color:red;font-family:monospace;">SYSTEM_OFFLINE</div>';
                                    return;
                                }

                                // Randomly select an element to delete
                                const target = allElements[Math.floor(Math.random() * total)];
                                if (target && target.parentNode) {
                                    target.style.transition = "all 0.1s";
                                    target.style.transform = "scale(0) rotate(20deg)";
                                    target.style.opacity = "0";
                                    setTimeout(() => target.remove(), 100);

                                    // Zapping Sound
                                    if (count % 5 === 0) { // Don't play on every single one (too loud)
                                        const osc = audioCtx.createOscillator();
                                        const gain = audioCtx.createGain();
                                        osc.connect(gain);
                                        gain.connect(audioCtx.destination);
                                        osc.type = 'sawtooth';
                                        osc.frequency.setValueAtTime(100, audioCtx.currentTime);
                                        osc.frequency.exponentialRampToValueAtTime(10, audioCtx.currentTime + 0.1);
                                        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
                                        gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.1);
                                        osc.start();
                                        osc.stop(audioCtx.currentTime + 0.1);
                                    }
                                }
                                count++;
                            }, 10); // Very fast deletion
                        }, 2000);
                    }
                },
                'ssh': {
                    desc: 'Simulates a secure connection attempt.',
                    exec: () => {
                        print("Handshake initiated...", 'text-info');
                        setTimeout(() => {
                            print("SUCCESS: Connection to api.shash.dev Established.", 'text-green-500');
                            scrollToBottom();
                        }, 500);
                    }
                },
            };

            // --- Command Runner ---

            function runCommand(command) {
                if (!command) return;

                const parts = command.trim().toLowerCase().split(/\s+/);
                const baseCommand = parts[0];

                if (baseCommand === 'cd' && parts.length === 2) {
                    const dir = parts[1];
                    let url = '';
                    if (dir === 'home') url = 'index.html';
                    else if (dir === 'about') url = 'about.html';
                    else if (dir === 'work' || dir === 'projects') url = 'projects.html';
                    else if (dir === 'contact' || dir === 'comm') url = 'contact.html';

                    if (url) {
                        print(`Navigating to /${dir} ...`, 'text-info');
                        setTimeout(() => window.location.href = url, 300);
                        return;
                    }
                }

                // Handle complex commands
                const complexCommand = command.trim().toLowerCase();
                if (commands[complexCommand]) {
                    commands[complexCommand].exec(parts);
                    return;
                }

                if (commands[baseCommand]) {
                    commands[baseCommand].exec(parts);
                    return;
                }

                print(`Error: command not found: ${command}`, 'text-error');
            }

            // --- Input and Confirmation Handler ---

            terminalInput.addEventListener('keydown', (e) => {
                // HISTORY NAVIGATION
                if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    if (historyIndex > 0) {
                        historyIndex--;
                        terminalInput.value = commandHistory[historyIndex];
                    } else if (historyIndex === -1 && commandHistory.length > 0) {
                        historyIndex = commandHistory.length - 1;
                        terminalInput.value = commandHistory[historyIndex];
                    }
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    if (historyIndex < commandHistory.length - 1 && historyIndex !== -1) {
                        historyIndex++;
                        terminalInput.value = commandHistory[historyIndex];
                    } else {
                        historyIndex = commandHistory.length; // Past end
                        terminalInput.value = '';
                    }
                }
                // COMMAND EXECUTION
                else if (e.key === 'Enter') {
                    e.preventDefault();
                    const command = terminalInput.value.trim();
                    const confirmState = terminalInput.getAttribute('data-confirm');

                    // Add to history if not empty
                    if (command) {
                        commandHistory.push(command);
                        historyIndex = commandHistory.length; // Reset index to end
                    }

                    echoInput(command);

                    if (confirmState === 'reboot') {
                        if (command === 'y') {
                            print("System rebooting...", 'text-error');
                            setTimeout(() => window.location.href = 'loading.html', 500);
                        } else {
                            print("Reboot cancelled.", 'text-green-500');
                        }
                        terminalInput.removeAttribute('data-confirm');
                    } else {
                        runCommand(command);
                    }

                    terminalInput.value = '';
                    scrollToBottom();
                }
            });

            // --- Drag and Resize Logic ---
            const termHeader = document.getElementById('term-header');
            let isDragging = false;
            let offsetX, offsetY;

            termHeader.addEventListener('mousedown', (e) => {
                isDragging = true;
                const rect = overlayTerminal.getBoundingClientRect();
                offsetX = e.clientX - rect.left;
                offsetY = e.clientY - rect.top;

                overlayTerminal.style.cursor = 'move';
                overlayTerminal.style.position = 'fixed';
                overlayTerminal.style.right = 'auto';
                overlayTerminal.style.bottom = 'auto';
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;

                let newX = e.clientX - offsetX;
                let newY = e.clientY - offsetY;

                if (newX < 0) newX = 0;
                if (newY < 0) newY = 0;
                if (newX + overlayTerminal.offsetWidth > window.innerWidth) newX = window.innerWidth - overlayTerminal.offsetWidth;
                if (newY + overlayTerminal.offsetHeight > window.innerHeight) newY = window.innerHeight - overlayTerminal.offsetHeight;

                overlayTerminal.style.left = newX + 'px';
                overlayTerminal.style.top = newY + 'px';
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                overlayTerminal.style.cursor = 'default';
            });

            // --- Toggle Button Logic ---
            toggleButton.addEventListener('click', () => {
                const isHidden = overlayTerminal.style.display === 'none';
                overlayTerminal.style.display = isHidden ? 'flex' : 'none';
                if (isHidden) {
                    terminalInput.focus();
                }
            });

            // --- Initial Setup and Event Handling ---

            // Existing theme toggle logic (Icon Click)
            const themeBtn = document.getElementById('theme-toggle');
            const html = document.documentElement;
            themeBtn.addEventListener('click', () => {
                // If current theme is custom (e.g. matrix), resetting to light/dark
                if (localStorage.customTheme && localStorage.customTheme !== 'default' && localStorage.customTheme !== 'light') {
                    // Reset variables to default before toggling
                    applyTheme('default');
                }

                html.classList.toggle('dark');
                const isDark = html.classList.contains('dark');
                localStorage.theme = isDark ? 'dark' : 'light';

                // Update theme definition to match standard light/dark
                if (isDark) applyTheme('default');
                else applyTheme('light');

                themeBtn.querySelector('.ri-sun-line').classList.toggle('hidden', isDark);
                themeBtn.querySelector('.ri-moon-line').classList.toggle('hidden', !isDark);
            });

            // Clock Logic
            function updateClock() {
                const now = new Date();
                document.getElementById('clock').innerText = now.toUTCString().split(' ')[4] + ' UTC';
            }
            setInterval(updateClock, 1000);

            // Spotlight Logic
            const grid = document.querySelector('.cyber-grid');
            const body = document.body;

            function activateGlow() { body.classList.add('is-hovering'); }
            function deactivateGlow() { body.classList.remove('is-hovering'); }

            const glowSections = document.querySelectorAll('section, footer');
            glowSections.forEach(section => {
                section.addEventListener('mouseenter', activateGlow);
            });

            document.addEventListener('mouseout', function (e) {
                if (!e.relatedTarget && !e.toElement) {
                    deactivateGlow();
                }
            });

            window.addEventListener('mousemove', (e) => {
                if (grid) {
                    grid.style.setProperty('--x', `${e.clientX}px`);
                    grid.style.setProperty('--y', `${e.clientY}px`);
                }
            });

            // Typewriter Logic
            const inputName = document.getElementById('input-name');
            const inputRoles = document.getElementById('input-roles');
            const typewriterElement = document.getElementById('typewriter');

            let phrases = ["Websites", "Apps", "Systems"];
            let phraseIndex = 0; let charIndex = 0; let isDeleting = false;

            function updatePhrases() {
                const text = inputRoles.innerText.trim();
                const parts = text.split(',').map(part => part.trim().replace(/['"]/g, ''));
                if (parts.length > 0) phrases = parts.filter(p => p.length > 0);
                else phrases = ["Code"];
            }
            inputRoles.addEventListener('input', () => { updatePhrases(); });

            function type() {
                const currentPhrase = phrases[phraseIndex % phrases.length];
                if (isDeleting) {
                    typewriterElement.textContent = currentPhrase.substring(0, charIndex - 1); charIndex--;
                } else {
                    typewriterElement.textContent = currentPhrase.substring(0, charIndex + 1); charIndex++;
                }
                let typeSpeed = isDeleting ? 50 : 100;
                if (!isDeleting && charIndex === currentPhrase.length) { isDeleting = true; typeSpeed = 2000; }
                else if (isDeleting && charIndex === 0) { isDeleting = false; phraseIndex++; typeSpeed = 500; }
                setTimeout(type, typeSpeed);
            }

            // Skill Bar Animation
            function animateSkillBars() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const bars = entry.target.querySelectorAll('.skill-progress-bar');
                            bars.forEach(bar => {
                                const progress = bar.getAttribute('data-progress');
                                bar.style.width = `${progress}%`;
                            });
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                // Speak welcome message
                setTimeout(() => {
                    speak("System online. Welcome back, Operator.");
                }, 1000); // Small delay so it doesn't startle you instantly

                const skillSection = document.getElementById('tech-matrix-section');
                if (skillSection) {
                    observer.observe(skillSection);
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
                updateClock();
                updatePhrases();
                type();
                animateSkillBars();
                // --- DIGITAL PARTICLE TRAIL ---
                const cursorCanvas = document.createElement('canvas');
                const cursorCtx = cursorCanvas.getContext('2d');
                cursorCanvas.style.position = 'fixed';
                cursorCanvas.style.top = '0';
                cursorCanvas.style.left = '0';
                cursorCanvas.style.width = '100%';
                cursorCanvas.style.height = '100%';
                cursorCanvas.style.pointerEvents = 'none';
                cursorCanvas.style.zIndex = '9998'; // Just below scanlines
                document.body.appendChild(cursorCanvas);

                let cursorParticles = [];

                function resizeCursorCanvas() {
                    cursorCanvas.width = window.innerWidth;
                    cursorCanvas.height = window.innerHeight;
                }
                window.addEventListener('resize', resizeCursorCanvas);
                resizeCursorCanvas();

                class Particle {
                    constructor(x, y) {
                        this.x = x;
                        this.y = y;
                        this.size = Math.random() * 3 + 1;
                        this.speedX = Math.random() * 2 - 1;
                        this.speedY = Math.random() * 2 - 1;
                        this.color = getComputedStyle(document.documentElement).getPropertyValue('--accent-primary').trim();
                        this.life = 1.0; // Opacity
                    }
                    update() {
                        this.x += this.speedX;
                        this.y += this.speedY;
                        this.life -= 0.02; // Fade out speed
                        if (this.size > 0.1) this.size -= 0.1;
                    }
                    draw() {
                        cursorCtx.fillStyle = this.color;
                        cursorCtx.globalAlpha = this.life;
                        cursorCtx.fillRect(this.x, this.y, this.size, this.size); // Square pixels
                        cursorCtx.globalAlpha = 1.0;
                    }
                }

                window.addEventListener('mousemove', (e) => {
                    // Spawn 2 particles per mouse move
                    cursorParticles.push(new Particle(e.clientX, e.clientY));
                    cursorParticles.push(new Particle(e.clientX, e.clientY));
                });

                function animateParticles() {
                    cursorCtx.clearRect(0, 0, cursorCanvas.width, cursorCanvas.height);
                    for (let i = 0; i < cursorParticles.length; i++) {
                        cursorParticles[i].update();
                        cursorParticles[i].draw();

                        if (cursorParticles[i].life <= 0) {
                            cursorParticles.splice(i, 1);
                            i--;
                        }
                    }
                    requestAnimationFrame(animateParticles);
                }
                animateParticles();
                // --- REAL SYSTEM MONITORING ---
                (function initSystemMonitor() {
                    const fpsElem = document.getElementById('sys-fps');
                    const memElem = document.getElementById('sys-mem');
                    const pingElem = document.getElementById('net-ping');

                    // 1. FPS COUNTER (Rendering Load)
                    let lastTime = performance.now();
                    let frameCount = 0;

                    function monitorLoop() {
                        const now = performance.now();
                        frameCount++;

                        if (now - lastTime >= 1000) { // Update every second
                            const fps = frameCount;
                            frameCount = 0;
                            lastTime = now;

                            if (fpsElem) {
                                fpsElem.innerText = fps;
                                // Color coding based on performance
                                if (fps < 30) fpsElem.className = 'text-red-500 font-bold';
                                else if (fps < 50) fpsElem.className = 'text-yellow-500';
                                else fpsElem.className = 'text-green-500';
                            }
                            // --- 2. PHANTOM TOUCH (HAPTIC FEEDBACK) ---
                            function triggerHaptic(pattern) {
                                // Only runs if the device supports vibration
                                if (navigator.vibrate) {
                                    navigator.vibrate(pattern);
                                }
                            }

                            // Attach haptics to all interactive elements
                            const interactiveElements = document.querySelectorAll('button, a, .terminal-card, input');
                            interactiveElements.forEach(el => {
                                el.addEventListener('click', () => {
                                    triggerHaptic(15); // A short, crisp 15ms "tick"
                                });
                                // Optional: A tiny buzz on hover for desktop users with gamepads/touchpads
                                el.addEventListener('mouseenter', () => {
                                    triggerHaptic(5);
                                });
                            });
                            // --- 3. HOLOGRAPHIC DECK (GYROSCOPE PARALLAX) ---
                            if (window.DeviceOrientationEvent) {
                                window.addEventListener('deviceorientation', (e) => {
                                    // Check if the device is actually reporting data (null on some desktops)
                                    if (e.beta === null || e.gamma === null) return;

                                    // Gamma: Left/Right tilt (-90 to 90)
                                    // Beta: Front/Back tilt (-180 to 180)
                                    const tiltX = e.gamma;
                                    const tiltY = e.beta;

                                    // 1. Move the background grid deep in space
                                    const grid = document.querySelector('.cyber-grid');
                                    if (grid) {
                                        // Multiplied by 2 for noticeable movement
                                        grid.style.transform = `translate(${tiltX * 2}px, ${tiltY * 2}px)`;
                                    }

                                    // 2. Tilt the Hero Card in 3D space
                                    const heroCard = document.getElementById('tilt-card');
                                    if (heroCard) {
                                        // We divide by 10 to make the tilt subtle and smooth
                                        heroCard.style.transform = `perspective(1000px) rotateY(${tiltX / 10}deg) rotateX(${-tiltY / 10}deg)`;
                                    }
                                });
                            }
                            // --- 4. DATA INGESTION (FILE DRAG & DROP) ---
                            const dropZone = document.body;

                            // 1. Prevent default browser behavior (opening the file)
                            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                                dropZone.addEventListener(eventName, preventDefaults, false);
                            });

                            function preventDefaults(e) {
                                e.preventDefault();
                                e.stopPropagation();
                            }

                            // 2. Visual Cues when dragging over
                            dropZone.addEventListener('dragenter', () => {
                                // Add a cyberpunk dashed border
                                document.body.style.border = '4px dashed var(--accent-primary)';
                                document.body.style.opacity = '0.7';

                                // Force terminal open to show status
                                const term = document.getElementById('overlay-terminal');
                                if (term) term.style.display = 'flex';

                                print("[SYSTEM] DETECTING EXTERNAL DATA STREAM...", "text-neonCyan animate-pulse");
                            });

                            dropZone.addEventListener('dragleave', () => {
                                document.body.style.border = 'none';
                                document.body.style.opacity = '1';
                            });

                            // 3. Handle the Drop
                            dropZone.addEventListener('drop', (e) => {
                                // Reset visuals
                                document.body.style.border = 'none';
                                document.body.style.opacity = '1';

                                const files = e.dataTransfer.files;
                                handleFiles(files);
                            });

                            function handleFiles(files) {
                                // Ensure terminal is visible
                                const term = document.getElementById('overlay-terminal');
                                if (term) term.style.display = 'flex';

                                ([...files]).forEach(file => {
                                    // Log file details
                                    print(`> UPLOADING: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`, "text-white");

                                    // Trigger Haptic & Sound (if you added those modules)
                                    if (typeof triggerHaptic === 'function') triggerHaptic(20);
                                    if (typeof playSound === 'function') playSound('click');

                                    // Fake analysis sequence
                                    setTimeout(() => print(`  [SCANNING HEX DUMP...]`, "text-gray-500"), 600);
                                    setTimeout(() => print(`  [ANALYZING METADATA...]`, "text-gray-500"), 1200);

                                    setTimeout(() => {
                                        // Randomly decide if file is "Safe" or "Malicious" for fun
                                        const isSafe = Math.random() > 0.2; // 80% chance safe

                                        if (isSafe) {
                                            print(`  [RESULT] FILE INTEGRITY VERIFIED. ACCEPTED.`, "text-green-500");
                                            if (typeof speak === 'function') speak("File accepted.");
                                        } else {
                                            print(`  [WARNING] ANOMALY DETECTED IN ${file.name}. QUARANTINED.`, "text-red-500 font-bold");
                                            if (typeof speak === 'function') speak("Warning. Malicious data detected.");
                                            if (typeof triggerHaptic === 'function') triggerHaptic([50, 50, 200]); // Alarm buzz
                                        }
                                    }, 2500);
                                });
                            }

                            // 5. MEMORY MONITOR (Chrome/Edge Only)
                            if (memElem) {
                                // @ts-ignore - performance.memory is non-standard but works in Chromium
                                if (performance && performance.memory) {
                                    const used = performance.memory.usedJSHeapSize / 1048576; // Convert Bytes to MB
                                    memElem.innerText = used.toFixed(1);
                                } else {
                                    // Fallback for Firefox/Safari (Simulated fluctuation around 50MB)
                                    const sim = 45 + (Math.random() * 10);
                                    memElem.innerText = sim.toFixed(1) + '*'; // * denotes simulated
                                }
                            }

                            // 6. NETWORK LATENCY (Real RTT)
                            if (pingElem) {
                                const conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                                if (conn && conn.rtt) {
                                    pingElem.innerText = conn.rtt;
                                } else {
                                    // Fallback: Check performance timing
                                    const timing = performance.getEntriesByType("navigation")[0];
                                    const loadTime = timing ? Math.round(timing.domComplete) : 25;
                                    pingElem.innerText = loadTime;
                                }
                            }
                        }
                        requestAnimationFrame(monitorLoop);
                    }

                    monitorLoop();
                })();
                // --- Timeline Scroll Animation ---
                function animateTimeline() {
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('in-view');
                            }
                        });
                    }, { threshold: 0.2 }); // Trigger when 20% visible

                    const items = document.querySelectorAll('.timeline-item');
                    items.forEach(item => observer.observe(item));
                }

                // Call the function
                animateTimeline();

                const isDark = html.classList.contains('dark');
                themeBtn.querySelector('.ri-sun-line').classList.toggle('hidden', isDark);
                themeBtn.querySelector('.ri-moon-line').classList.toggle('hidden', !isDark);

                const elements = [inputName, inputRoles].filter(el => el != null);
                elements.forEach(el => {
                    el.addEventListener('keypress', (e) => { if (e.key === 'Enter') { e.preventDefault(); el.blur(); } });
                });
            });
        })();
        // --- Shared Terminal Logic (ENDS HERE) ---
        // --- HACKER TEXT DECODE EFFECT ---
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*";

        function hackerEffect(event) {
            const target = event.target;
            // Store original text if not already stored
            if (!target.dataset.value) target.dataset.value = target.innerText;

            let iteration = 0;
            const originalText = target.dataset.value;

            clearInterval(target.interval);

            target.interval = setInterval(() => {
                target.innerText = originalText
                    .split("")
                    .map((letter, index) => {
                        if (index < iteration) {
                            return originalText[index];
                        }
                        return letters[Math.floor(Math.random() * 62)];
                    })
                    .join("");

                if (iteration >= originalText.length) {
                    clearInterval(target.interval);
                }

                iteration += 1 / 3; // Controls speed (higher = faster)
            }, 30);
        }

        // Apply to all Section Headings (h2)
        document.querySelectorAll('h2').forEach(header => {
            header.addEventListener('mouseover', hackerEffect);
        });
        // --- AUDIO SYSTEM (Synthesized Sounds) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'hover') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(400, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(600, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.1);
            } else if (type === 'click') {
                osc.type = 'square';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.15);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.15);
            }
        }

        // Apply to all interactive elements
        document.querySelectorAll('a, button, .terminal-card').forEach(el => {
            el.addEventListener('mouseenter', () => playSound('hover'));
            el.addEventListener('click', () => playSound('click'));
        });
        // --- 3D TILT EFFECT ---
        document.querySelectorAll('.terminal-card').forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                // Calculate rotation (max 15 degrees)
                const xRot = -1 * ((y - rect.height / 2) / rect.height * 15);
                const yRot = (x - rect.width / 2) / rect.width * 15;

                card.style.transform = `perspective(1000px) rotateX(${xRot}deg) rotateY(${yRot}deg) scale(1.02)`;
                card.style.zIndex = '10';
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale(1)';
                card.style.zIndex = '1';
            });
        });
        // --- KONAMI CODE EASTER EGG ---
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;

        document.addEventListener('keydown', (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    activateOverrideMode();
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        function activateOverrideMode() {
            // 1. Play Alert Sound
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(100, audioCtx.currentTime);
            osc.frequency.linearRampToValueAtTime(800, audioCtx.currentTime + 0.5);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1);

            osc.start();
            osc.stop(audioCtx.currentTime + 1);

            // 2. Change Theme to Red Alert
            document.documentElement.style.setProperty('--accent-primary', '#ff0000');
            document.documentElement.style.setProperty('--accent-secondary', '#ff4d00');
            document.documentElement.style.setProperty('--text-primary', '#ffcccc');

            // 3. Inject Warning Modal
            const warning = document.createElement('div');
            warning.className = 'fixed inset-0 flex items-center justify-center bg-black/90 z-[10000] text-red-500 font-mono text-4xl font-bold animate-pulse';
            warning.innerText = "SYSTEM OVERRIDE: ROOT ACCESS GRANTED";
            document.body.appendChild(warning);

            setTimeout(() => {
                warning.remove();
                alert("Welcome, Admin. Hidden features unlocked.");
            }, 2000);
        }
        // --- POWER MODE INPUT SHAKE ---
        document.querySelectorAll('input, textarea').forEach(input => {
            input.addEventListener('input', function () {
                // Random shake offsets
                const x = Math.random() * 4 - 2;
                const y = Math.random() * 4 - 2;

                this.style.transform = `translate(${x}px, ${y}px)`;
                this.style.borderColor = 'var(--accent-primary)';

                // Reset after 100ms
                setTimeout(() => {
                    this.style.transform = 'translate(0, 0)';
                    this.style.borderColor = '';
                }, 100);
            });
        });
        // --- MECHANICAL KEYBOARD SFX ---
        function playKeyClick() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();

            // Create a short, sharp "click" using a high frequency burst
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            osc.type = 'triangle';
            // Randomize slightly for realism
            osc.frequency.setValueAtTime(600 + Math.random() * 200, audioCtx.currentTime);

            gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.05);

            osc.start();
            osc.stop(audioCtx.currentTime + 0.05);
        }

        document.addEventListener('keydown', playKeyClick);
        // --- AUTONOMOUS TERMINAL GHOST ---
        const ghostMessages = [
            "[SYSTEM] Garbage collection started...",
            "[NETWORK] Handshake verified (Ping: 24ms)",
            "[KERNEL] Optimizing V8 engine...",
            "[SECURITY] Port 443 scan: CLEAN",
            "[bg_task] Indexing assets...",
            "[UPDATE] Patch 1.0.4 applied successfully.",
            "[MEMORY] Heap snapshot taken."
        ];

        function ghostType() {
            // Only print if the terminal is actually open
            const term = document.getElementById('overlay-terminal');
            if (term && term.style.display !== 'none') {
                const msg = ghostMessages[Math.floor(Math.random() * ghostMessages.length)];
                const termOutput = document.getElementById('terminal-output');

                const div = document.createElement('div');
                div.className = 'text-gray-500 text-xs opacity-70';
                div.innerText = `[${new Date().toLocaleTimeString()}] ${msg}`;
                termOutput.appendChild(div);
                termOutput.scrollTop = termOutput.scrollHeight;
            }

            // Random interval between 5 and 15 seconds
            setTimeout(ghostType, Math.random() * 10000 + 5000);
        }

        // Start the ghost
        setTimeout(ghostType, 5000);
        // --- SYSTEM SLEEP MODE ---
        let idleTimer;
        const sleepOverlay = document.getElementById('sleep-mode');

        function resetIdleTimer() {
            clearTimeout(idleTimer);
            if (sleepOverlay) {
                sleepOverlay.style.opacity = '0';
                sleepOverlay.classList.add('hidden');
                sleepOverlay.style.pointerEvents = 'none'; // Allow clicks to pass through
            }

            // Set idle time (e.g., 10 seconds)
            idleTimer = setTimeout(() => {
                if (sleepOverlay) {
                    sleepOverlay.classList.remove('hidden');
                    // Small delay to allow display:block to apply before opacity transition
                    setTimeout(() => {
                        sleepOverlay.style.opacity = '0.9';
                        sleepOverlay.style.pointerEvents = 'all'; // Block clicks
                    }, 50);
                }
            }, 10000);
        }

        // Reset on any interaction
        window.addEventListener('mousemove', resetIdleTimer);
        window.addEventListener('keydown', resetIdleTimer);
        window.addEventListener('scroll', resetIdleTimer);
        resetIdleTimer(); // Start immediately
        // --- PARALLAX GRID EFFECT ---
        const parallaxGrid = document.querySelector('.cyber-grid');

        document.addEventListener('mousemove', (e) => {
            if (!parallaxGrid) return;

            // Calculate movement (divided by 50 to make it subtle)
            const x = (window.innerWidth - e.pageX * 2) / 50;
            const y = (window.innerHeight - e.pageY * 2) / 50;

            parallaxGrid.style.transform = `translate(${x}px, ${y}px)`;
        });
        // --- VOICE COMMAND PROTOCOL (V.C.P) ---
        // Checks browser support (Chrome/Edge mostly)
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

        if (SpeechRecognition) {
            const recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.lang = 'en-US';
            recognition.interimResults = false;

            // Create a visual mic indicator
            const micIcon = document.createElement('div');
            micIcon.className = 'fixed bottom-5 left-5 z-[1000] text-gray-600 cursor-pointer transition-colors duration-300';
            micIcon.innerHTML = '<i class="ri-mic-off-line text-2xl"></i>';
            document.body.appendChild(micIcon);

            micIcon.addEventListener('click', () => {
                try { recognition.start(); } catch (e) { recognition.stop(); }
            });

            recognition.onstart = () => {
                micIcon.innerHTML = '<i class="ri-mic-line text-2xl animate-pulse text-red-500"></i>';
                print("[V.C.P] Listening...", 'text-yellow-500'); // Print to your terminal
            };

            recognition.onend = () => {
                micIcon.innerHTML = '<i class="ri-mic-off-line text-2xl"></i>';
            };

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript.toLowerCase();
                print(`> Voice Input: "${transcript}"`, 'text-neonCyan');

                // Command Logic
                if (transcript.includes('home')) { window.location.href = 'index.html'; }
                else if (transcript.includes('project') || transcript.includes('work')) { window.location.href = 'projects.html'; }
                else if (transcript.includes('contact')) { window.location.href = 'contact.html'; }
                else if (transcript.includes('theme matrix')) { applyTheme('matrix'); }
                else if (transcript.includes('theme cyberpunk')) { applyTheme('cyberpunk'); }
                else if (transcript.includes('system status')) {
                    document.getElementById('terminal-toggle').click();
                    runCommand('neofetch');
                }
            };
        } else {
            console.log("Voice API not supported in this browser.");
        }
        // --- MAGNETIC GRAVITY UI ---
        const magneticElements = document.querySelectorAll('button, a.px-6'); // Targets main buttons

        magneticElements.forEach(el => {
            el.addEventListener('mousemove', (e) => {
                const rect = el.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;

                // "Pull" factor (higher = stronger pull)
                el.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;
                el.style.transition = 'transform 0.1s ease-out';
            });

            el.addEventListener('mouseleave', () => {
                el.style.transform = 'translate(0px, 0px)';
                el.style.transition = 'transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)'; // Bouncy reset
            });
        });
        // --- DYNAMIC FAVICON GENERATOR ---
        const faviconCanvas = document.createElement('canvas');
        faviconCanvas.width = 32;
        faviconCanvas.height = 32;
        const faviconCtx = faviconCanvas.getContext('2d');
        const link = document.querySelector("link[rel~='icon']") || document.createElement('link');
        link.rel = 'icon';
        document.head.appendChild(link);

        function updateFavicon() {
            // Clear
            faviconCtx.clearRect(0, 0, 32, 32);

            // Get current theme accent color
            const accent = getComputedStyle(document.documentElement).getPropertyValue('--accent-primary').trim() || '#00ff00';

            // Draw a "System Dot"
            faviconCtx.fillStyle = '#000000';
            faviconCtx.fillRect(0, 0, 32, 32); // Background

            faviconCtx.fillStyle = accent;
            faviconCtx.beginPath();
            faviconCtx.arc(16, 16, 10, 0, Math.PI * 2);
            faviconCtx.fill();

            // Add a blinking inner light
            if (new Date().getSeconds() % 2 === 0) {
                faviconCtx.fillStyle = '#ffffff';
                faviconCtx.beginPath();
                faviconCtx.arc(16, 16, 4, 0, Math.PI * 2);
                faviconCtx.fill();
            }

            link.href = faviconCanvas.toDataURL();
        }

        // Update every second
        setInterval(updateFavicon, 1000);
        // --- SINGULARITY: BIO-METRIC ENERGY LINK ---
        if ('getBattery' in navigator) {
            navigator.getBattery().then(battery => {
                function updateEnergyState() {
                    const level = battery.level * 100;
                    const isCharging = battery.charging;

                    if (level <= 20 && !isCharging) {
                        // EMERGENCY MODE
                        document.documentElement.style.filter = 'grayscale(0.8) brightness(0.6)';
                        document.body.classList.add('low-power');
                        if (!window.hasWarnedLowPower) {
                            print(`[WARNING] MAIN POWER CRITICAL (${Math.round(level)}%). ENGAGING POWER SAVING.`, 'text-red-500 animate-pulse');
                            window.hasWarnedLowPower = true;
                        }
                    } else {
                        // NORMAL MODE
                        document.documentElement.style.filter = 'none';
                        document.body.classList.remove('low-power');
                        if (window.hasWarnedLowPower && isCharging) {
                            print(`[SYSTEM] EXTERNAL POWER DETECTED. SYSTEMS NORMALIZING.`, 'text-green-500');
                            playSound('hover'); // Reuse your synth sound
                            window.hasWarnedLowPower = false;
                        }
                    }
                }

                battery.addEventListener('levelchange', updateEnergyState);
                battery.addEventListener('chargingchange', updateEnergyState);
                updateEnergyState(); // Initial check
            });
        }
        // --- SINGULARITY: STEALTH MODE (PANIC SWITCH) ---
        let escCount = 0;
        let escTimer;

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                escCount++;
                clearTimeout(escTimer);
                escTimer = setTimeout(() => escCount = 0, 500); // Reset if too slow

                if (escCount === 3) {
                    activateStealthMode();
                    escCount = 0;
                }
            }
        });

        function activateStealthMode() {
            document.title = "Quarterly_Report_2025.xlsx - Excel";
            // Nuke the body content
            document.body.innerHTML = `
        <div style="font-family: Arial, sans-serif; padding: 20px; background: #fff; color: #000; height: 100vh;">
            <div style="background: #217346; color: white; padding: 10px; font-weight: bold;">Microsoft Excel</div>
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px;">
                <tr style="background: #f3f3f3;">
                    <th style="border: 1px solid #ccc; padding: 5px;">A</th>
                    <th style="border: 1px solid #ccc; padding: 5px;">B</th>
                    <th style="border: 1px solid #ccc; padding: 5px;">C</th>
                </tr>
                <tr>
                    <td style="border: 1px solid #ccc; padding: 5px;">1</td>
                    <td style="border: 1px solid #ccc; padding: 5px;">Revenue</td>
                    <td style="border: 1px solid #ccc; padding: 5px;">$1,204,500</td>
                </tr>
                <tr>
                    <td style="border: 1px solid #ccc; padding: 5px;">2</td>
                    <td style="border: 1px solid #ccc; padding: 5px;">Growth</td>
                    <td style="border: 1px solid #ccc; padding: 5px;">12.5%</td>
                </tr>
                <tr>
                    <td style="border: 1px solid #ccc; padding: 5px;">3</td>
                    <td style="border: 1px solid #ccc; padding: 5px;">Q4 Target</td>
                    <td style="border: 1px solid #ccc; padding: 5px;">Pending</td>
                </tr>
            </table>
            <div style="margin-top: 50px; color: #666;">Press F5 to Reload System</div>
        </div>
    `;
            // Kill all sounds
            if (window.audioCtx) window.audioCtx.close();
        }
        // --- GAMEPAD CONTROL PROTOCOL ---
        let gamepadLoop;

        window.addEventListener("gamepadconnected", (e) => {
            const gpIndex = e.gamepad.index;
            const alertBox = document.createElement('div');
            alertBox.className = 'fixed top-5 left-1/2 transform -translate-x-1/2 bg-neonBlue text-black px-4 py-2 font-mono text-sm z-[10000] rounded shadow-[0_0_15px_var(--accent-primary)]';
            alertBox.innerText = "🎮 CONTROLLER DETECTED: ENGAGING DRIVE MODE";
            document.body.appendChild(alertBox);
            setTimeout(() => alertBox.remove(), 3000);

            // Start polling
            gamepadLoop = setInterval(() => {
                const gp = navigator.getGamepads()[gpIndex];
                if (!gp) return;

                // Right Stick Y-Axis (Scroll)
                if (Math.abs(gp.axes[3]) > 0.2) {
                    window.scrollBy(0, gp.axes[3] * 20); // Speed factor
                }

                // Button A (Bottom Button) - Trigger Click on center element
                if (gp.buttons[0].pressed) {
                    // Find element in center of screen
                    const x = window.innerWidth / 2;
                    const y = window.innerHeight / 2;
                    const el = document.elementFromPoint(x, y);
                    if (el) el.click();
                }

                // Button B (Right Button) - Go Back/Top
                if (gp.buttons[1].pressed) {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }, 16); // 60 FPS
        });

        window.addEventListener("gamepaddisconnected", () => {
            clearInterval(gamepadLoop);
        });
        // --- AMBIENT LIGHT REACTOR ---
        if ('AmbientLightSensor' in window) {
            try {
                const sensor = new AmbientLightSensor();
                sensor.addEventListener('reading', () => {
                    const lux = sensor.illuminance;
                    const root = document.documentElement;

                    if (lux < 10) {
                        // Pitch black room -> Max Glow
                        root.style.setProperty('--grid-opacity', '0.5');
                        root.style.setProperty('--text-shadow', '0 0 10px var(--accent-primary)');
                    } else if (lux > 500) {
                        // Bright Sun -> High Contrast / Dim Glow
                        root.style.setProperty('--grid-opacity', '0.1');
                        root.style.setProperty('--text-shadow', 'none');
                    }
                });
                sensor.start();
            } catch (err) {
                console.log("Light sensor blocked by permissions policy.");
            }
        }
        console.log(
            "%c STOP! %c \nAuthorized personnel only. \nAll actions are being logged.",
            "color: red; font-size: 50px; font-weight: bold; text-shadow: 2px 2px black;",
            "color: #66fcf1; font-family: monospace; font-size: 14px;"
        );
        console.log(
            "%c      _    _      \n     | |  | |     \n  ___| |__| |__   \n / __|  __  |\\ \\  \n \\__ \\ |  | |/ /  \n |___/_|  |_/_/   \n",
            "color: #3b82f6; font-weight: bold;"
        );
        // --- PERSISTENT MEMORY CORE ---
        function saveSystemState() {
            const state = {
                theme: localStorage.customTheme || 'default',
                commandsRun: commandHistory.length,
                adminUnlocked: window.isAdmin || false,
                lastLogin: Date.now()
            };
            localStorage.setItem('system_core_memory', JSON.stringify(state));
        }

        function loadSystemState() {
            const memory = JSON.parse(localStorage.getItem('system_core_memory'));
            if (memory) {
                // Restore Theme
                if (memory.theme) applyTheme(memory.theme);

                // Welcome message based on time
                const days = Math.floor((Date.now() - memory.lastLogin) / (1000 * 60 * 60 * 24));
                if (days > 0) {
                    print(`Welcome back, User. It has been ${days} days since last login.`, "text-neonBlue");
                } else {
                    print("Session restored. Welcome back.", "text-neonBlue");
                }
            }
        }

        // Hook into your 'exit' or 'beforeunload' event
        window.addEventListener('beforeunload', saveSystemState);
        // Hook into load
        window.addEventListener('DOMContentLoaded', loadSystemState);
        // --- DOM INTEGRITY WATCHDOG ---
        const essentialIDs = ['hero-section', 'terminal-toggle', 'main-footer'];

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.removedNodes.length > 0) {
                    mutation.removedNodes.forEach(node => {
                        if (node.id && essentialIDs.includes(node.id)) {
                            // ALERT!
                            const audio = new AudioContext(); // fast beep
                            // (Insert your beep code here)

                            alert("⚠️ CRITICAL ERROR: CORE COMPONENT DELETED.\nINITIATING EMERGENCY REFRESH.");
                            location.reload(); // Force reload to "repair"
                        }
                    });
                }
            });
        });

        observer.observe(document.body, { childList: true, subtree: true });
        // --- BULLET TIME PROTOCOL ---
document.addEventListener('keydown', (e) => {
    if (e.key === 'Shift') {
        document.body.style.transition = 'all 0.5s ease';
        // Force hardware acceleration on everything
        document.documentElement.style.setProperty('--time-scale', '0.1'); 
        
        // This is the magic CSS injection
        const css = `* { animation-duration: 10s !important; transition-duration: 2s !important; }`;
        const style = document.createElement('style');
        style.id = 'bullet-time-css';
        style.innerText = css;
        document.head.appendChild(style);
        
        // Play "Power Down" sound
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.frequency.setValueAtTime(500, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 1);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 1);
        osc.start(); osc.stop(audioCtx.currentTime + 1);
    }
});

document.addEventListener('keyup', (e) => {
    if (e.key === 'Shift') {
        const style = document.getElementById('bullet-time-css');
        if (style) style.remove();
        document.documentElement.style.removeProperty('--time-scale');
    }
});
    </script>
</body>

</html>